// 1. Внешние зависимости.
// 2. Компоненты вашего проекта.
// 3. Утилиты и бизнес-логика.
// 4. Стили и ассеты.
import { useContext } from 'react';
import ErrorComponent from '../ErrorComponent/ErrorComponent';
import PageContext, { EPage } from '../../store/PageContext';
import {setUserPlayed} from '../../user_cache/keys';
import { translate, makeSnakeCase } from '../../utils/utils';
import cn from 'classnames';
import './header.scss';

const text = {
    title: translate('One step ahead'),
    button: translate('get started')
}

interface IProps {
    className?: string
}

const Header = ({className}: IProps) => {
    const context = useContext(PageContext);

    if (!context) return <ErrorComponent message={String(context)}/>

    const {onSelectArticle} = context;
    const handleClick = () => onSelectArticle(null);

    return (
        <div className={cn('header', className)}>
            <div className="logo">
                <div className="patch">sync 7.38c</div>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 494 217" onClick={handleClick}>
                    <path d="M121.82 217C120.727 217 119.861 216.84 119.223 216.521C118.585 216.202 118.106 215.724 117.787 215.086C117.468 214.402 117.309 213.536 117.309 212.488V136.062H93.5879C92.4941 136.062 91.6283 135.903 90.9902 135.584C90.3522 135.265 89.8737 134.786 89.5547 134.148C89.2357 133.51 89.0762 132.645 89.0762 131.551V122.869C89.0762 121.821 89.2357 120.978 89.5547 120.34C89.8737 119.656 90.3522 119.155 90.9902 118.836C91.6738 118.517 92.5397 118.357 93.5879 118.357H162.631C163.679 118.357 164.522 118.517 165.16 118.836C165.844 119.155 166.345 119.656 166.664 120.34C166.983 120.978 167.143 121.821 167.143 122.869V131.551C167.143 132.599 166.983 133.465 166.664 134.148C166.345 134.786 165.844 135.265 165.16 135.584C164.522 135.903 163.679 136.062 162.631 136.062H138.91V212.488C138.91 213.536 138.751 214.402 138.432 215.086C138.113 215.724 137.611 216.202 136.928 216.521C136.29 216.84 135.447 217 134.398 217H121.82Z"/>
                    <path d="M182.455 217C181.407 217 180.541 216.84 179.857 216.521C179.219 216.202 178.741 215.724 178.422 215.086C178.103 214.402 177.943 213.536 177.943 212.488V122.869C177.943 121.821 178.103 120.978 178.422 120.34C178.741 119.656 179.219 119.155 179.857 118.836C180.541 118.517 181.407 118.357 182.455 118.357H195.033C196.081 118.357 196.924 118.517 197.563 118.836C198.246 119.155 198.747 119.656 199.066 120.34C199.385 120.978 199.545 121.821 199.545 122.869V212.488C199.545 213.536 199.385 214.402 199.066 215.086C198.747 215.724 198.246 216.202 197.563 216.521C196.924 216.84 196.081 217 195.033 217H182.455Z"/>
                    <path d="M219.574 217C218.526 217 217.66 216.84 216.977 216.521C216.339 216.202 215.86 215.724 215.541 215.086C215.222 214.402 215.063 213.536 215.063 212.488V122.869C215.063 121.821 215.222 120.978 215.541 120.34C215.86 119.656 216.339 119.155 216.977 118.836C217.66 118.517 218.526 118.357 219.574 118.357H235.98C237.029 118.357 237.895 118.471 238.578 118.699C239.262 118.927 239.831 119.314 240.287 119.861C240.743 120.408 241.176 121.183 241.586 122.186L267.357 187.811H267.768L293.539 122.186C293.904 121.183 294.314 120.408 294.77 119.861C295.271 119.314 295.863 118.927 296.547 118.699C297.23 118.471 298.096 118.357 299.145 118.357H315.551C316.599 118.357 317.442 118.517 318.08 118.836C318.764 119.155 319.265 119.656 319.584 120.34C319.903 120.978 320.063 121.821 320.063 122.869V212.488C320.063 213.536 319.88 214.402 319.516 215.086C319.197 215.724 318.718 216.202 318.08 216.521C317.442 216.84 316.576 217 315.482 217H305.365C304.317 217 303.451 216.84 302.768 216.521C302.13 216.202 301.628 215.724 301.264 215.086C300.945 214.402 300.808 213.536 300.854 212.488V151.443H290.805L312.338 121.092L275.629 213.172C275.264 214.174 274.854 214.949 274.398 215.496C273.943 216.043 273.373 216.43 272.689 216.658C272.006 216.886 271.14 217 270.092 217H265.033C263.939 217 263.051 216.886 262.367 216.658C261.729 216.43 261.16 216.043 260.658 215.496C260.202 214.949 259.792 214.174 259.428 213.172L222.787 121.092L244.252 151.443H234.271V212.488C234.271 213.536 234.112 214.402 233.793 215.086C233.474 215.724 232.973 216.202 232.289 216.521C231.651 216.84 230.808 217 229.76 217H219.574Z"/>
                    <path d="M340.229 217C339.18 217 338.337 216.84 337.699 216.521C337.061 216.202 336.56 215.724 336.195 215.086C335.876 214.402 335.717 213.536 335.717 212.488V122.869C335.717 121.821 335.876 120.978 336.195 120.34C336.514 119.656 336.993 119.155 337.631 118.836C338.314 118.517 339.18 118.357 340.229 118.357H397.035C398.083 118.357 398.926 118.517 399.564 118.836C400.248 119.155 400.749 119.656 401.068 120.34C401.433 120.978 401.615 121.821 401.615 122.869V131.551C401.615 132.599 401.433 133.465 401.068 134.148C400.749 134.786 400.248 135.265 399.564 135.584C398.926 135.903 398.083 136.062 397.035 136.062H357.387V158.826H394.574C395.622 158.826 396.465 158.986 397.104 159.305C397.742 159.624 398.22 160.125 398.539 160.809C398.904 161.447 399.086 162.29 399.086 163.338V171.062C399.086 172.156 398.904 173.022 398.539 173.66C398.22 174.298 397.742 174.777 397.104 175.096C396.465 175.415 395.6 175.574 394.506 175.574H357.387V199.295H397.035C398.083 199.295 398.926 199.454 399.564 199.773C400.248 200.092 400.749 200.594 401.068 201.277C401.433 201.915 401.615 202.758 401.615 203.807V212.488C401.615 213.536 401.433 214.402 401.068 215.086C400.749 215.724 400.248 216.202 399.564 216.521C398.926 216.84 398.083 217 397.035 217H340.229Z"/>
                    <path d="M420.346 217C419.298 217 418.432 216.84 417.748 216.521C417.11 216.202 416.632 215.724 416.313 215.086C415.993 214.402 415.834 213.536 415.834 212.488V122.869C415.834 121.821 415.993 120.978 416.313 120.34C416.632 119.656 417.11 119.155 417.748 118.836C418.432 118.517 419.298 118.357 420.346 118.357H456.986C464.506 118.357 470.932 119.633 476.264 122.186C481.596 124.692 485.674 128.315 488.5 133.055C491.326 137.794 492.738 143.514 492.738 150.213V150.35C492.738 156.775 491.143 162.518 487.953 167.576C484.809 172.635 480.525 176.258 475.102 178.445L493.08 212.078C493.581 213.035 493.764 213.878 493.627 214.607C493.536 215.291 493.194 215.861 492.602 216.316C492.009 216.772 491.166 217 490.072 217H475.238C474.145 217 473.256 216.909 472.572 216.727C471.934 216.499 471.342 216.134 470.795 215.633C470.294 215.086 469.815 214.357 469.359 213.445L453.158 181.658C452.976 181.658 452.794 181.658 452.611 181.658C452.429 181.658 452.247 181.658 452.064 181.658H437.436V212.488C437.436 213.536 437.276 214.402 436.957 215.086C436.638 215.724 436.137 216.202 435.453 216.521C434.815 216.84 433.972 217 432.924 217H420.346ZM437.436 165.457H454.594C459.561 165.457 463.458 164.113 466.283 161.424C469.154 158.735 470.59 155.044 470.59 150.35V150.213C470.59 145.61 469.109 141.964 466.146 139.275C463.23 136.541 459.311 135.174 454.389 135.174H437.436V165.457Z"/>
                    <path d="M40.2285 102.709C32.8913 102.709 26.4427 101.729 20.8828 99.7695C15.3229 97.8099 10.8112 94.9616 7.34766 91.2246C3.88411 87.4421 1.65104 82.9076 0.648438 77.6211C0.420573 76.4818 0.443359 75.5475 0.716797 74.8184C0.990234 74.0892 1.46875 73.5195 2.15234 73.1094C2.83594 72.6992 3.7474 72.4941 4.88672 72.4941H16.6445C17.5104 72.4941 18.2168 72.5853 18.7637 72.7676C19.3561 72.9499 19.8346 73.2689 20.1992 73.7246C20.6094 74.1348 20.9967 74.7272 21.3613 75.502C22.1361 77.5527 23.4349 79.3073 25.2578 80.7656C27.0807 82.1784 29.291 83.2949 31.8887 84.1152C34.5319 84.89 37.4714 85.2773 40.707 85.2773C44.3984 85.2773 47.5885 84.776 50.2773 83.7734C52.9661 82.7708 55.0397 81.3581 56.498 79.5352C58.002 77.7122 58.7539 75.6159 58.7539 73.2461V73.1777C58.7539 69.9421 57.4551 67.4355 54.8574 65.6582C52.3053 63.8353 47.9987 62.3086 41.9375 61.0781L31.5469 59.0273C21.8398 57.1133 14.5026 53.832 9.53516 49.1836C4.61328 44.4896 2.15234 38.4056 2.15234 30.9316V30.8633C2.15234 24.8021 3.77018 19.5156 7.00586 15.0039C10.2871 10.4466 14.776 6.91471 20.4727 4.4082C26.2148 1.90169 32.7546 0.648438 40.0918 0.648438C47.2467 0.648438 53.4902 1.69661 58.8223 3.79297C64.1543 5.84375 68.4382 8.76042 71.6738 12.543C74.9095 16.2799 76.9831 20.7005 77.8945 25.8047C78.0768 26.944 78.0313 27.8783 77.7578 28.6074C77.4844 29.3366 77.0059 29.9062 76.3223 30.3164C75.6387 30.681 74.75 30.8633 73.6563 30.8633H61.8984C61.0326 30.8633 60.3034 30.7721 59.7109 30.5898C59.1641 30.362 58.7083 30.0202 58.3437 29.5645C57.9792 29.1087 57.6374 28.4707 57.3184 27.6504C56.6348 25.6452 55.4954 23.9362 53.9004 22.5234C52.3053 21.1107 50.3229 20.0169 47.9531 19.2422C45.6289 18.4674 43.0085 18.0801 40.0918 18.0801C36.6738 18.0801 33.7344 18.5814 31.2734 19.584C28.8581 20.541 26.9896 21.8854 25.668 23.6172C24.3919 25.3034 23.7539 27.2858 23.7539 29.5645V29.6328C23.7539 32.6406 25.0527 35.056 27.6504 36.8789C30.248 38.7018 34.3268 40.1602 39.8867 41.2539L50.2773 43.3047C57.2044 44.6719 62.8783 46.5632 67.2988 48.9785C71.7194 51.3939 75.0007 54.4473 77.1426 58.1387C79.2845 61.8301 80.3555 66.2507 80.3555 71.4004V71.4688C80.3555 77.849 78.7604 83.3861 75.5703 88.0801C72.3802 92.7741 67.7773 96.3971 61.7617 98.9492C55.7917 101.456 48.6139 102.709 40.2285 102.709Z"/>
                    <path d="M96.6934 101C95.6452 101 94.7793 100.84 94.0957 100.521C93.4577 100.202 92.9792 99.724 92.6602 99.0859C92.3411 98.4023 92.1816 97.5365 92.1816 96.4883V6.86914C92.1816 5.82096 92.3411 4.97786 92.6602 4.33984C92.9792 3.65625 93.4577 3.15495 94.0957 2.83594C94.7793 2.51693 95.6452 2.35742 96.6934 2.35742H132.309C139.372 2.35742 145.502 3.77018 150.697 6.5957C155.938 9.42122 160.017 13.3861 162.934 18.4902C165.85 23.5944 167.309 29.5417 167.309 36.332V36.4688C167.309 43.3047 165.85 49.2747 162.934 54.3789C160.017 59.4831 155.938 63.4479 150.697 66.2734C145.502 69.0534 139.372 70.4434 132.309 70.4434H113.783V96.4883C113.783 97.5365 113.624 98.4023 113.305 99.0859C112.986 99.724 112.484 100.202 111.801 100.521C111.163 100.84 110.32 101 109.271 101H96.6934ZM127.045 19.3789H113.783V53.627H127.045C132.833 53.627 137.344 52.1458 140.58 49.1836C143.816 46.2214 145.434 42.0059 145.434 36.5371V36.4004C145.434 30.8861 143.816 26.6706 140.58 23.7539C137.344 20.8372 132.833 19.3789 127.045 19.3789Z"/>
                    <path d="M183.373 101C182.325 101 181.482 100.84 180.844 100.521C180.206 100.202 179.704 99.724 179.34 99.0859C179.021 98.4023 178.861 97.5365 178.861 96.4883V6.86914C178.861 5.82096 179.021 4.97786 179.34 4.33984C179.659 3.65625 180.137 3.15495 180.775 2.83594C181.459 2.51693 182.325 2.35742 183.373 2.35742H240.18C241.228 2.35742 242.071 2.51693 242.709 2.83594C243.393 3.15495 243.894 3.65625 244.213 4.33984C244.577 4.97786 244.76 5.82096 244.76 6.86914V15.5508C244.76 16.599 244.577 17.4648 244.213 18.1484C243.894 18.7865 243.393 19.265 242.709 19.584C242.071 19.903 241.228 20.0625 240.18 20.0625H200.531V42.8262H237.719C238.767 42.8262 239.61 42.9857 240.248 43.3047C240.886 43.6237 241.365 44.125 241.684 44.8086C242.048 45.4466 242.23 46.2897 242.23 47.3379V55.0625C242.23 56.1562 242.048 57.0221 241.684 57.6602C241.365 58.2982 240.886 58.7767 240.248 59.0957C239.61 59.4147 238.744 59.5742 237.65 59.5742H200.531V83.2949H240.18C241.228 83.2949 242.071 83.4544 242.709 83.7734C243.393 84.0924 243.894 84.5938 244.213 85.2773C244.577 85.9154 244.76 86.7585 244.76 87.8066V96.4883C244.76 97.5365 244.577 98.4023 244.213 99.0859C243.894 99.724 243.393 100.202 242.709 100.521C242.071 100.84 241.228 101 240.18 101H183.373Z"/>
                    <path d="M263.695 101C262.602 101 261.736 100.84 261.098 100.521C260.46 100.202 259.958 99.724 259.594 99.0859C259.275 98.4023 259.115 97.5365 259.115 96.4883V6.86914C259.115 5.82096 259.275 4.97786 259.594 4.33984C259.958 3.65625 260.46 3.15495 261.098 2.83594C261.736 2.51693 262.602 2.35742 263.695 2.35742H276.273C277.322 2.35742 278.165 2.51693 278.803 2.83594C279.441 3.15495 279.919 3.65625 280.238 4.33984C280.603 4.97786 280.785 5.82096 280.785 6.86914V83.2949H318.861C319.91 83.2949 320.753 83.4544 321.391 83.7734C322.074 84.0924 322.576 84.5938 322.895 85.2773C323.214 85.9154 323.373 86.7585 323.373 87.8066V96.4883C323.373 97.5365 323.214 98.4023 322.895 99.0859C322.576 99.724 322.074 100.202 321.391 100.521C320.753 100.84 319.91 101 318.861 101H263.695Z"/>
                    <path d="M339.711 101C338.617 101 337.751 100.84 337.113 100.521C336.475 100.202 335.974 99.724 335.609 99.0859C335.29 98.4023 335.131 97.5365 335.131 96.4883V6.86914C335.131 5.82096 335.29 4.97786 335.609 4.33984C335.974 3.65625 336.475 3.15495 337.113 2.83594C337.751 2.51693 338.617 2.35742 339.711 2.35742H352.289C353.337 2.35742 354.18 2.51693 354.818 2.83594C355.456 3.15495 355.935 3.65625 356.254 4.33984C356.618 4.97786 356.801 5.82096 356.801 6.86914V83.2949H394.877C395.925 83.2949 396.768 83.4544 397.406 83.7734C398.09 84.0924 398.591 84.5938 398.91 85.2773C399.229 85.9154 399.389 86.7585 399.389 87.8066V96.4883C399.389 97.5365 399.229 98.4023 398.91 99.0859C398.591 99.724 398.09 100.202 397.406 100.521C396.768 100.84 395.925 101 394.877 101H339.711Z"/>
                    <path d="M447.866 7C447.866 4.23858 445.627 2 442.866 2H407.866C405.104 2 402.866 4.23857 402.866 7V14.8307C385.536 22.4821 372.736 38.5151 369.606 57.7918C368.971 61.7011 372.185 65 376.146 65H380.261C383.989 65 386.997 62.0495 387.814 58.4115C391.656 41.3174 406.722 28.4692 424.866 28.0126V67L454.968 92.9632C447.826 100.963 437.434 106 425.866 106C420.757 106 415.866 109.709 415.866 114.818V123.126C419.112 123.7 422.454 124 425.866 124C457.346 124 482.866 98.4802 482.866 67C482.866 43.318 468.423 23.0091 447.866 14.4007V7Z"/>
                </svg>
            </div>
            <div className="header__lang">
                EN
                <span className='header__langArrow'>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 22">
                        <path d="M30.7521 20.8663C29.8173 21.4123 28.6609 21.4123 27.7261 20.8663L1.57176 5.59052C-1.07172 4.04656 0.0234356 5.80966e-06 3.08478 5.54203e-06L55.3934 9.69061e-07C58.4547 7.01431e-07 59.5499 4.04655 56.9064 5.59051L30.7521 20.8663Z" />
                    </svg>
                </span>
            </div>
        </div>
    );
} ;

export default Header;