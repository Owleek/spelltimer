import React, { useContext } from 'react';
import {useSelector} from 'react-redux';
import {TStoreState} from '../../store/store';
import ErrorComponent from '../ErrorComponent/ErrorComponent';
import PageContext, { EPage } from '../../store/PageContext';
import { translateText } from '../../utils/utils';
import cn from 'classnames';
import './footer.scss';

const Footer = () => {
    const {dictionary} = useSelector((state: TStoreState) => state.localeSlice);
    if (!dictionary) return;

    const context = useContext(PageContext);
    if (!context) return <ErrorComponent message={String(context)}/>
    const {activeArticle, onSelectArticle} = context;

    return (
        <div className="footer">
            <div className="footer__column">
                <ul className="footer__list">
                    <li className={cn('footer__item', {active: activeArticle === EPage.ABOUT})} onClick={() => onSelectArticle(EPage.ABOUT)} style={{whiteSpace: 'nowrap'}}>{translateText(dictionary, 'about')}</li>
                    <li className={cn('footer__item', {active: activeArticle === EPage.CONTACT})} onClick={() => onSelectArticle(EPage.CONTACT)}>{translateText(dictionary, 'contact')}</li>
                    <li className={cn('footer__item', {active: activeArticle === EPage.POLITICS})} onClick={() => onSelectArticle(EPage.POLITICS)}>{translateText(dictionary, 'policy')}</li>
                </ul>
            </div>
            <div className="footer__column rights">
                <p className="footer__item">Â© 2025 spelltimer.com</p>
                <p className="footer__item">{translateText(dictionary, 'rights')}</p>
            </div>
            <div className={cn('footer__donationButton', {active: activeArticle === EPage.DONATION})} onClick={() => onSelectArticle(EPage.DONATION)} title={translateText(dictionary, 'support')}>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 196 173">
                    <path d="M155.024 7.5861C150.223 6.5876 141.121 6.67845 136.094 7.76774C126.358 9.85558 118.931 13.7139 112.138 20.2043C109.014 23.1996 104.396 29.4617 104.395 30.6427C104.44 31.1874 109.965 35.8625 115.354 39.8566C120.562 43.7599 131.476 49.0248 147.19 55.1974C154.164 57.9661 167.206 62.4602 171.417 63.5949C177.576 65.2289 179.206 69.041 176.444 75.4406C175.266 78.2091 175.221 78.4818 175.946 78.9357C177.078 79.6165 178.21 82.3391 178.21 84.3361C178.21 85.2892 177.803 86.8781 177.35 87.922C173.818 95.6833 164.76 97.6801 152.941 93.2775C146.148 90.6906 138.269 87.0149 135.28 85.0177L132.517 83.1115L129.347 89.1476C127.626 92.4155 125.18 96.7726 123.912 98.7697L121.694 102.401L123.233 104.488C126.991 109.663 129.03 116.063 129.03 122.825C129.029 131.63 126.086 138.62 119.837 144.838C113.452 151.192 106.658 154.097 98.0539 154.097C92.3481 154.097 88.9063 153.28 83.5627 150.648C76 146.926 69.7049 138.983 67.4407 130.314C66.4898 126.546 66.3992 118.331 67.3049 116.425L69.4035 112L70.7678 109.268C68.9127 108.046 66.4265 105.92 62.4143 102.31C58.4746 98.7696 53.5841 94.5033 51.5461 92.8693C46.2477 88.5575 45.8851 87.6948 44.1643 74.714C43.3039 68.0878 42.2172 62.1423 41.2209 58.466C39.3642 51.5217 35.3787 41.0818 33.2502 37.4054C31.5291 34.4551 25.7782 28.4642 20.5705 24.2433L17.1291 21.4299L16.178 22.4279C14.5024 24.2888 11.1053 29.9623 9.7014 33.2756C-0.940655 58.3294 9.88315 89.3743 40.2698 120.782C49.2816 130.087 62.5048 141.343 77.1321 152.055C84.6037 157.501 92.2567 163.037 94.1594 164.309L97.6018 166.669L100.454 164.763C101.994 163.719 110.01 157.864 118.206 151.827C139.083 136.396 153.484 123.506 164.171 110.57C175.538 96.8635 183.236 83.3376 186.905 70.6291C192.656 50.7495 188.535 31.6412 175.765 18.842C169.968 13.0324 162.903 9.22005 155.024 7.5861ZM80.5793 143.482C83.2182 145.709 86.2921 147.46 89.5403 148.515C91.4987 149.169 93.9216 149.544 96.425 149.647L96.468 146.922C91.5255 146.528 87.0061 144.636 83.3615 141.7L80.5793 143.482ZM113.816 141.396C110.384 144.274 106.137 146.211 101.47 146.806L101.427 149.488C103.115 149.308 104.721 148.999 106.115 148.56C109.165 147.617 112.795 145.463 115.641 143.032L113.816 141.396ZM98.4035 103C86.8056 103 77.4036 112.178 77.4035 123.5C77.4035 134.822 86.8056 144 98.4035 144C110.002 144 119.404 134.822 119.404 123.5C119.403 112.178 110.001 103 98.4035 103ZM71.259 126C71.4861 129.849 72.1826 131.714 74.3244 135.761C75.0649 137.19 75.9677 138.556 77.0022 139.836L79.7375 138.085C76.9952 134.696 75.1559 130.546 74.5891 126H71.259ZM122.218 126C121.667 130.42 119.913 134.465 117.296 137.801L119.088 139.407C122.215 135.295 124.013 130.671 124.563 126H122.218ZM102.638 108.95C102.524 110.715 102.435 112.746 102.371 115.044C102.321 117.342 102.295 119.785 102.295 122.375V125.574C102.295 128.469 102.339 130.411 102.428 131.402C102.517 132.392 102.676 133.065 102.905 133.42C103.197 133.864 103.596 134.176 104.104 134.354C104.612 134.531 105.5 134.62 106.77 134.62V137C104.777 136.886 103.082 136.81 101.686 136.772C100.29 136.721 99.0831 136.695 98.0676 136.695C97.344 136.695 96.3596 136.721 95.1155 136.772C93.8713 136.81 92.2082 136.886 90.1262 137V134.62C91.8147 134.62 92.9133 134.531 93.4211 134.354C93.9415 134.176 94.3479 133.864 94.6399 133.42C94.8937 133.014 95.0647 132.176 95.1535 130.906C95.2551 129.637 95.3059 126.704 95.3059 122.109C95.3059 120.7 95.2932 119.271 95.2678 117.824C95.2551 116.365 95.2238 114.879 95.1731 113.368C94.2971 113.368 93.4143 113.387 92.5256 113.425C91.6371 113.463 90.7423 113.521 89.841 113.597L89.5744 110.911C91.8594 110.683 94.0873 110.41 96.258 110.093C98.4289 109.763 100.556 109.382 102.638 108.95ZM75.2756 110.797C75.15 110.797 75.0261 110.795 74.9035 110.79L73.4035 114.201L71.9035 117.5L71.3274 121H74.4875C74.8069 117.13 76.0439 113.52 77.9817 110.389L75.2756 110.797ZM116.861 107.661C119.921 111.34 121.903 115.948 122.32 121H124.678C124.304 115.724 122.359 110.602 118.968 106.312L116.861 107.661ZM40.4035 6.00017L33.4035 8.50017L28.4035 11.5002L24.4035 14.0002L20.4035 17.5002L22.9035 19.0002L29.4035 23.5002L35.4035 29.5002L40.4035 37.0002L42.9035 44.5002L44.9035 52.0002L46.9035 60.0002L47.9035 67.5002L48.4035 73.5002L49.4035 79.5002L50.4035 84.0002L53.4035 87.5002L60.9035 94.5002L70.9035 103.5L72.9035 105L74.9035 102L76.9035 99.5002L80.4035 96.0002L78.9035 92.5002L76.4035 88.5002L72.9035 85.0002L68.9035 81.5002L67.4035 77.5002V73.0002L68.9035 67.5002L72.4035 63.0002L76.4035 61.0002L80.9035 60.5002L86.9035 61.5002L92.4035 63.5002L97.9035 66.0002L102.404 68.5002L106.404 71.0002L109.904 73.5002L111.404 76.5002V80.5002L109.904 84.5002L106.904 92.0002L110.404 93.5002L117.904 98.5002L121.404 93.0002L123.904 88.0002L126.404 82.5002L127.404 78.5002L129.404 76.5002L132.404 76.0002L138.404 79.5002L144.904 83.5002L151.904 86.5002L158.404 88.5002L163.904 90.0002L167.404 89.5002L170.904 87.5002L171.904 84.5002V84.0002L170.904 83.0002L169.404 81.0002L168.404 78.0002V76.5002L169.404 74.5002L170.404 73.0002L170.904 70.5002L170.404 69.5002L166.904 68.0002L158.404 65.5002L149.404 62.5002L141.404 59.5002L129.404 54.5002L119.904 49.5002L109.904 44.0002L104.904 40.5002L102.404 38.0002L101.404 36.5002L97.4035 44.5002L94.4035 36.5002L92.4035 33.0002L89.9035 29.0002L86.9035 24.5002L82.9035 20.0002L78.9035 16.5002L73.9035 13.0002L68.4035 10.0002L61.9035 7.50017L55.4035 6.00017L48.4035 5.50017L40.4035 6.00017ZM101.439 99.1906C105.832 99.745 109.855 101.487 113.176 104.084L115.452 102.627C114.26 101.588 112.959 100.629 111.549 99.7677C108.482 97.9195 105.015 96.7232 101.47 96.2082L101.439 99.1906ZM96.4729 95.9367C93.4053 96.0502 90.3914 96.6841 87.6389 97.8615C85.2389 98.86 85.1475 98.9966 84.9211 100.903L84.6496 102.945L84.6096 103.359C88.0095 100.967 92.0582 99.4351 96.4397 99.0802L96.4729 95.9367ZM88.9973 68.3605C84.922 67.0898 79.4429 66.4993 77.9026 67.1798C75.2308 68.3599 73.6452 71.5825 73.5998 75.758C73.5998 77.5735 73.8268 77.9365 77.178 81.4767C81.0271 85.5614 83.2003 88.9658 84.0608 92.2336L84.6047 94.2765L87.3664 93.2775C90.627 92.0974 96.3788 91.1443 99.0959 91.3713L100.998 91.508L102.628 88.2394C104.983 83.4741 105.934 80.3426 105.572 78.7541C105.39 78.0733 104.44 76.7112 103.489 75.8488C101.134 73.6702 93.7975 69.8583 88.9973 68.3605Z" />
                </svg>
            </div>
        </div>
    );
} ;

export default Footer;